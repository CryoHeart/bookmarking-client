{"ast":null,"code":"import { AppState } from \"./app-state\";\nimport { ActionType } from \"./action-type\";\nexport function reduce() {\n  let oldAppState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new AppState();\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const newAppState = { ...oldAppState\n  };\n\n  switch (action.type) {\n    case ActionType.Login:\n      console.log(a);\n\n      if (action.payload.loginDetails) {\n        const username = action.payload.loginDetails.username;\n        const userId = action.payload.loginDetails.userId;\n        const token = action.payload.loginDetails.token;\n        console.log(\"Reducer Username: \" + username + \" Reducer user ID: \" + userId);\n        newAppState.username = username;\n        newAppState.userId = userId;\n        newAppState.token = token;\n      }\n\n      break;\n\n    case ActionType.GetUserBookmarks:\n      let myBookmarks = action.payload.myBookmarks;\n      newAppState.bookmarksArray = myBookmarks;\n      break;\n\n    case ActionType.AddBookmark:\n      let newBookmark = action.payload;\n      newAppState.bookmarksArray.push(newBookmark);\n      newAppState.bookmarksArray = [...newAppState.bookmarksArray];\n      break;\n\n    case ActionType.EditBookmark:\n      let editedBookmark = action.payload;\n      console.log(editedBookmark);\n\n      for (let i = 0; i <= newAppState.bookmarksArray.length; i++) {\n        if (editedBookmark.bookmarkId === newAppState.bookmarksArray[i]._id) {\n          console.log(newAppState.bookmarksArray[i]);\n          newAppState.bookmarksArray[i] = editedBookmark;\n          newAppState.bookmarksArray = [...newAppState.bookmarksArray];\n        }\n      }\n\n      break;\n\n    case ActionType.RemoveBookmark:\n      let id = action.payload;\n\n      for (let i = 0; i <= newAppState.bookmarksArray.length; i++) {\n        if (id === newAppState.bookmarksArray[i]._id) {\n          newAppState.bookmarksArray.splice(i, 1);\n          newAppState.bookmarksArray = [...newAppState.bookmarksArray];\n          console.log(\"Post deletion array: \" + newAppState.bookmarksArray);\n        }\n      }\n\n  }\n\n  return newAppState;\n}","map":{"version":3,"sources":["C:/Development/React/bookmarking-app/bookmarking-client/src/redux/reducer.ts"],"names":["AppState","ActionType","reduce","oldAppState","action","newAppState","type","Login","console","log","a","payload","loginDetails","username","userId","token","GetUserBookmarks","myBookmarks","bookmarksArray","AddBookmark","newBookmark","push","EditBookmark","editedBookmark","i","length","bookmarkId","_id","RemoveBookmark","id","splice"],"mappings":"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","sourcesContent":["import { AppState } from \"./app-state\";\r\nimport { Action } from \"./action\";\r\nimport { ActionType } from \"./action-type\";\r\n\r\nexport function reduce(oldAppState: AppState = new AppState(), action: Action): AppState {\r\n\r\n    const newAppState = { ...oldAppState };\r\n\r\n    switch (action.type) {\r\n        case ActionType.Login:\r\n            console.log(a)\r\n            if (action.payload.loginDetails) {\r\n                const username = action.payload.loginDetails.username;\r\n                const userId = action.payload.loginDetails.userId;\r\n                const token = action.payload.loginDetails.token;\r\n                console.log(\"Reducer Username: \" + username + \" Reducer user ID: \" + userId);\r\n\r\n                newAppState.username = username;\r\n                newAppState.userId = userId;\r\n                newAppState.token = token;\r\n\r\n            }\r\n            break;\r\n\r\n        case ActionType.GetUserBookmarks:\r\n            let myBookmarks = action.payload.myBookmarks;\r\n            newAppState.bookmarksArray = myBookmarks;\r\n            break;\r\n\r\n        case ActionType.AddBookmark:\r\n            let newBookmark = action.payload;\r\n            newAppState.bookmarksArray.push(newBookmark);\r\n            newAppState.bookmarksArray = [...newAppState.bookmarksArray];\r\n            break;\r\n\r\n        case ActionType.EditBookmark:\r\n            let editedBookmark = action.payload;\r\n            console.log(editedBookmark);\r\n            for (let i = 0; i <= newAppState.bookmarksArray.length; i++) {\r\n                if (editedBookmark.bookmarkId === newAppState.bookmarksArray[i]._id) {\r\n                    console.log(newAppState.bookmarksArray[i]);\r\n                    newAppState.bookmarksArray[i] = editedBookmark;\r\n                    newAppState.bookmarksArray = [...newAppState.bookmarksArray];\r\n                }\r\n            }\r\n            break;\r\n\r\n        case ActionType.RemoveBookmark:\r\n            let id = action.payload;\r\n            for (let i = 0; i <= newAppState.bookmarksArray.length; i++) {\r\n                if (id === newAppState.bookmarksArray[i]._id) {\r\n                    newAppState.bookmarksArray.splice(i, 1);\r\n                    newAppState.bookmarksArray = [...newAppState.bookmarksArray];\r\n                    console.log(\"Post deletion array: \" + newAppState.bookmarksArray);\r\n                }\r\n            }\r\n    }\r\n\r\n    return newAppState;\r\n}"]},"metadata":{},"sourceType":"module"}